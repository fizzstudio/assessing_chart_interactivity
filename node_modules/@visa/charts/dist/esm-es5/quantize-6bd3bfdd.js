import{b as bisectRight}from"./max-d011e4a4.js";import{i as initRange,d as linearish,s as slice}from"./linear-0c7d1fbc.js";function quantize(){var n=0,t=1,e=1,i=[.5],r=[0,1],a;function u(n){return n<=n?r[bisectRight(i,n,0,e)]:a}function o(){var r=-1;i=new Array(e);while(++r<e)i[r]=((r+1)*t-(r-e)*n)/(e+1);return u}u.domain=function(e){return arguments.length?(n=+e[0],t=+e[1],o()):[n,t]};u.range=function(n){return arguments.length?(e=(r=slice.call(n)).length-1,o()):r.slice()};u.invertExtent=function(a){var u=r.indexOf(a);return u<0?[NaN,NaN]:u<1?[n,i[0]]:u>=e?[i[e-1],t]:[i[u-1],i[u]]};u.unknown=function(n){return arguments.length?(a=n,u):u};u.thresholds=function(){return i.slice()};u.copy=function(){return quantize().domain([n,t]).range(r).unknown(a)};return initRange.apply(linearish(u),arguments)}export{quantize as q};